<template name="Propertie">
	<div class="row">
		<ol class="breadcrumb col-xs-12">
			<li><a href="/admin/properties">Proprietes</a></li>
			<li class="active">{{reference}}</li>
		</ol>
	</div>
	{{>Property this}}
</template>

<template name="Property">
	<div class="property-container row">
		<div class="heading-wrapper shadowed col-xs-12">
			<h4>
				<span class="attr-value">{{ propertyType }}</span><small> a </small>
				{{#if $eq transactionType 'Vente'}}
				<span class="attr-value">vendre</span>
				{{else}}
				<span class="attr-value">louer</span>
				{{/if}}
				<small> {{reference}} </small>
				{{#if $eq estimation true}}
				{{#if isInRole 'insert' 'Properties'}}
				<button class='btn btn-success transfer-btn pull-right' type='button'>Valider l'estimation
					<span class='fa fa-check'></span>
				</button>
				{{/if}}
				{{/if}}
			</h4>
		</div>
		{{#unless estimation}}
		<div class="col-xs-12">
			<div class="annonce-wrapper">
				<div class="annonce shadowed col-xs-12">
					<h5><span class="fa fa-bookmark"></span>
						Annonce
					</h5>
					<div class="col-xs-12 col-lg-6">
						<div class="attribute title">
							<label class="">Titre</label>
							<span class="attr-value">
								{{ title }}
							</span>
						</div>
						<div class="col-xs-12 separator"></div>
						<div class="attribute description">
							<label class="">Description </label>
							<div class="attr-value">
								{{ description }}
							</div>
						</div>
						<div class="col-xs-12 separator"></div>
						<div class="attribute exclusive">
							<label class="">Exclusivite</label>
							<span class="attr-value">
								{{#if exclusive}} Oui {{else}} Non {{/if}}
							</span>
						</div>
						<div class="attribute visible">
							<label class="">Visible</label>
							<span class="attr-value">
								{{#if visible}} Oui {{else}} Non {{/if}}
							</span>
						</div>
						<div class="col-xs-12 separator"></div>
						<div class="attribute local-informations">
							<label class="">Note privee</label>
							<span class="attr-value">
								{{ localInformations }}
							</span>
						</div>
					</div>
					<div class="col-xs-12 separator hidden-lg"></div>
					<div class="col-xs-12 col-lg-6">
						<div class="attribute images">
							<label class="">Images</label>
							<div id="carousel">
								{{#each img}}
									<div class="image"><img src="{{this}}" width="100%"/></div>
								{{/each}}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		{{/unless}}
		<div class="col-xs-12 col-md-6">
			<div class="informations-wrapper">
				<div class="informations shadowed col-xs-12">
					<h5><span class="glyphicon glyphicon-info-sign"></span>
						Informations
					</h5>
					<div class="col-xs-12 year attribute">
						<label class="">Annee de construction </label>
						<span class="attr-value">
							{{ year }}
						</span>
					</div>
					<div class="col-xs-12 separator"></div>
					<div class="col-xs-12 col-md-6 total-surface attribute">
						<label class="">Surface totale </label>
						<span class="attr-value">
							{{ totalSurface }}m²
						</span>
					</div>
					<div class="col-xs-12 col-md-6 living-room-surface attribute">
						<label class="">Salon de </label>
						<span class="attr-value">
							{{ livingRoomSurface }}m²
						</span>
					</div>
					<div class="col-xs-12 col-md-6 terrain-surface attribute">
						<label class="">Terrain </label>
						<span class="attr-value">
							{{#if terrainSurface}}
							{{ terrainSurface }}m²
							{{else}}
							Non
							{{/if}}
						</span>
					</div>
					<div class="col-xs-12 separator"></div>
					<div class="col-xs-12 col-md-6 room-number attribute">
						<label class="col-xs-8">Pieces</label>
						<span class="attr-value col-xs-4">
							{{ roomNumber }}
						</span>
					</div>
					<div class="col-xs-12 col-md-6 bedroom-number attribute">
						<label class="col-xs-8">Chambres</label>
						<span class="attr-value col-xs-4">
							{{ bedroomNumber  }}
						</span>
					</div>
					<div class="col-xs-12 col-md-6 bathroom-number attribute">
						<label class="col-xs-8">SDB</label>
						<span class="attr-value col-xs-4">
							{{ bathroomNumber }}
						</span>
					</div>
					<div class="col-xs-12 col-md-6 closet-number attribute">
						<label class="col-xs-8">Toilettes</label>
						<span class="attr-value col-xs-4">
							{{ closetNumber }}
						</span>
					</div>
					<div class="col-xs-12 col-md-6 dependency-number attribute">
						<label class="col-xs-8">Dependences</label>
						<span class="attr-value col-xs-4">
							{{ dependencyNumber }}
						</span>
					</div>
					<div class="col-xs-12 col-md-6 garage attribute">
						<label class="col-xs-8">Garage</label>
						<span class="attr-value col-xs-4">
							{{#if garage}} Oui {{else}} Non {{/if}}
						</span>
					</div>
					<div class="col-xs-12 col-md-6 state attribute">
						<label class="col-xs-8">Etat du bien</label>
						<span class="attr-value col-xs-4">
							{{state}}
						</span>
					</div>
				</div>
			</div>
			<div class="address-wrapper">
				<div class="address shadowed col-xs-12">
					<h5><span class="glyphicon glyphicon-map-marker"></span>
						Adresse
					</h5>
					<div class="col-xs-12 garage attribute">
						<div>
							<div class="col-xs-12 attr-cont">
								<label class="col-xs-4">N° </label>
								<div class="col-xs-8">
									<span class="attribute">{{address.streetNumber}} {{address.numCompl}}</span>
								</div>
							</div>
							<div class="col-xs-12 attr-cont">
								<label class="col-xs-4">Voie </label>
								<div class="col-xs-8">
									<span class="attribute">{{address.streetName}}</span>
								</div>
							</div>
							<div class="col-xs-12 attr-cont">
								<label class="col-xs-4">Compl. </label>
								<div class="col-xs-8">
									<span class="attribute">{{address.complement}}</span>
								</div>
							</div>
							<div class="col-xs-12 attr-cont">
								<label class="col-xs-4">CP </label>
								<div class="col-xs-8">
									<span class="attribute">{{address.zipcode}}</span>
								</div>
							</div>
							<div class="col-xs-12 attr-cont">
								<label class="col-xs-4">Ville </label>
								<div class="col-xs-8">
									<span class="attribute">{{address.city}}</span>
								</div>
							</div>
						</div>
						<div class="col-xs-12 separator"></div>
						<div class="map-wrapper">
							<img id="map" src="{{map}}">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="energy-wrapper col-xs-12 col-md-6">
			<div class="energy shadowed col-xs-12">
				<h5><span class="fa fa-fire"></span>
					Performances energetiques </h5>
				<div class="col-xs-12 heating attribute">
					<label class="col-xs-4">Chauffage</label>
					<span class="attr-value col-xs-8">
						{{ heating }}
					</span>
				</div>
				<div class="col-xs-12 separator"></div>
				<div class="col-xs-12 col-sm-6 col-md-12 col-lg-6 dpe attribute">
					<label class="">DPE</label>
					<span class="attr-value">
						<div id="dpe"></div>
					</span>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-12 col-lg-6 ges attribute">
					<label class="">GES</label>
					<span class="attr-value">
						<div id="ges"></div>
					</span>
				</div>
			</div>
		</div>
		<div class="pricing-wrapper col-xs-12 col-md-6">
			<div class="pricing shadowed col-xs-12">
				<h5><span class="fa fa-eur"></span>
					Couts et tarifs </h5>
				<div class="col-xs-12 col-md-6 taxes attribute">
					<label class="">Taxes</label>
					<span class="attr-value">
						{{ taxes }}€
					</span>
				</div>
				<div class="col-xs-12 col-md-6 charges attribute">
					<label class="">Charges</label>
					<span class="attr-value">
						{{ charges }}€
					</span>
				</div>
				<div class="col-xs-12 col-md-6 commission attribute">
					<label class="">Commission</label>
					<span class="attr-value">
						{{ commission }}€
					</span>
				</div>
				<div class="col-xs-12 col-md-6 price attribute">
					<label class="">Prix</label>
					<span class="attr-value">
						{{ price }}€
					</span>
				</div>
			</div>
		</div>
		<div class="button-wrapper col-xs-12">
			<div class="button center-block">
				<div class='center-block'>
					{{#if isInRole 'update' 'Estimations'}}
					<button class='btn btn-default edit-btn' type='button'>Editer 
						<span class='glyphicon glyphicon-edit'></span>
					</button>
					{{/if}}
					{{#if isInRole 'remove' 'Estimations'}}
					<button class='btn btn-danger remove-btn' type='button'>Supprimer 
						<span class='glyphicon glyphicon-trash'></span>
					</button>
					{{/if}}
				</div>
			</div>
		</div>
	</div>
</template>
